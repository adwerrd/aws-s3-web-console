{"version":3,"sources":["webpack:///./src/views/Login.vue?3062","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?c4be"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","model","value","callback","$$v","tabs","expression","attrs","label","name","ref","baishanKeys","status-icon","rules","baishanRules","label-position","label-width","prop","type","autocomplete","$set","on","click","$event","submitForm","resetForm","awsKeys","awsRules","staticRenderFns","Loginvue_type_script_lang_js_","data","accesskey","secretkey","region","host","required","trigger","methods","formName","_this","$refs","validate","valid","console","log","setKeysAndGetBuckets","_setKeysAndGetBuckets","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","keys","res","wrap","_context","prev","next","$store","dispatch","aws_http","sent","length","token","sessionStorage","setItem","$router","push","stop","apply","arguments","resetFields","views_Loginvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_7580381c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_7580381c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/login.57bea483.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"wrap\"},[_c('h1',[_vm._v(\"A simple s3 management console\")]),_c('div',{staticClass:\"login-form\"},[_c('el-tabs',{model:{value:(_vm.tabs),callback:function ($$v) {_vm.tabs=$$v},expression:\"tabs\"}},[_c('el-tab-pane',{attrs:{\"label\":\"BaishanCloud\",\"name\":\"baishan\"}},[_c('el-form',{ref:\"baishanKeys\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.baishanKeys,\"status-icon\":\"\",\"rules\":_vm.baishanRules,\"label-position\":\"left\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"accesskey\",\"prop\":\"accesskey\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.baishanKeys.accesskey),callback:function ($$v) {_vm.$set(_vm.baishanKeys, \"accesskey\", $$v)},expression:\"baishanKeys.accesskey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"secretkey\",\"prop\":\"secretkey\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.baishanKeys.secretkey),callback:function ($$v) {_vm.$set(_vm.baishanKeys, \"secretkey\", $$v)},expression:\"baishanKeys.secretkey\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('baishanKeys')}}},[_vm._v(\"Submit\")]),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('baishanKeys')}}},[_vm._v(\"Reset\")])],1)],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"AWS S3\",\"name\":\"aws\"}},[_c('el-form',{ref:\"awsKeys\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.awsKeys,\"status-icon\":\"\",\"rules\":_vm.awsRules,\"label-position\":\"left\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"accesskey\",\"prop\":\"accesskey\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"autocomplete\":\"off\"},model:{value:(_vm.awsKeys.accesskey),callback:function ($$v) {_vm.$set(_vm.awsKeys, \"accesskey\", $$v)},expression:\"awsKeys.accesskey\"}})],1),_c('el-form-item',{attrs:{\"label\":\"secretkey\",\"prop\":\"secretkey\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.awsKeys.secretkey),callback:function ($$v) {_vm.$set(_vm.awsKeys, \"secretkey\", $$v)},expression:\"awsKeys.secretkey\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('awsKeys')}}},[_vm._v(\"Submit\")]),_c('el-button',{on:{\"click\":function($event){_vm.resetForm('awsKeys')}}},[_vm._v(\"Reset\")])],1)],1)],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <div class=\"wrap\">\n      <h1>A simple s3 management console</h1>\n      <div class=\"login-form\">\n        <el-tabs v-model=\"tabs\">\n          <el-tab-pane label=\"BaishanCloud\"\n                       name=\"baishan\">\n            <el-form :model=\"baishanKeys\"\n                     status-icon\n                     :rules=\"baishanRules\"\n                     ref=\"baishanKeys\"\n                     label-position=\"left\"\n                     label-width=\"80px\"\n                     class=\"demo-ruleForm\">\n              <el-form-item label=\"accesskey\"\n                            prop=\"accesskey\">\n                <el-input type=\"text\"\n                          v-model=\"baishanKeys.accesskey\"\n                          autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"secretkey\"\n                            prop=\"secretkey\">\n                <el-input type=\"password\"\n                          v-model=\"baishanKeys.secretkey\"\n                          autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item>\n                <el-button type=\"primary\"\n                           @click=\"submitForm('baishanKeys')\">Submit</el-button>\n                <el-button @click=\"resetForm('baishanKeys')\">Reset</el-button>\n              </el-form-item>\n            </el-form>\n          </el-tab-pane>\n          <el-tab-pane label=\"AWS S3\"\n                       name=\"aws\">\n            <el-form :model=\"awsKeys\"\n                     status-icon\n                     :rules=\"awsRules\"\n                     ref=\"awsKeys\"\n                     label-position=\"left\"\n                     label-width=\"80px\"\n                     class=\"demo-ruleForm\">\n              <el-form-item label=\"accesskey\"\n                            prop=\"accesskey\">\n                <el-input type=\"text\"\n                          v-model=\"awsKeys.accesskey\"\n                          autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"secretkey\"\n                            prop=\"secretkey\">\n                <el-input type=\"password\"\n                          v-model=\"awsKeys.secretkey\"\n                          autocomplete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item>\n                <el-button type=\"primary\"\n                           @click=\"submitForm('awsKeys')\">Submit</el-button>\n                <el-button @click=\"resetForm('awsKeys')\">Reset</el-button>\n              </el-form-item>\n            </el-form>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { login } from '@/service/aws-http'\nexport default {\n  data() {\n    return {\n      baishanKeys: {\n        accesskey: '',\n        secretkey: '',\n        region: 'us-west-1',\n        host: 'http://ss.bscstorage.com',\n      },\n      awsKeys: {\n        accesskey: '',\n        secretkey: '',\n        region: 'us-west-1',\n        host: 'http://s3.us-west-1.amazonaws.com',\n      },\n      baishanRules: {\n        accesskey: [{ required: true, trigger: 'blur' }],\n        secretkey: [{ required: true, trigger: 'blur' }],\n      },\n      awsRules: {\n        accesskey: [{ required: true, trigger: 'blur' }],\n        secretkey: [{ required: true, trigger: 'blur' }],\n        region: [{ required: true, trigger: 'blur' }],\n      },\n      tabs: 'aws',\n    }\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.setKeysAndGetBuckets()\n        } else {\n          console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    async setKeysAndGetBuckets() {\n      const keys = this.tabs === 'aws' ? this.awsKeys : this.baishanKeys\n      await this.$store.dispatch('setValueWithStorage', { keys })\n\n      const res = await login(keys)\n      if (Object.keys(res).length > 0 && res.token.length > 0) {\n        await this.$store.dispatch('setValues', res)\n        sessionStorage.setItem('token', res.token)\n        this.$router.push({ name: 'bucket' })\n      }\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n    },\n  },\n}\n</script>\n<style scoped lang=\"less\">\n.wrap {\n  width: 400px;\n  padding: 20px;\n  margin: 160px auto 10px;\n}\nh1 {\n  padding-bottom: 30px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7580381c&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=7580381c&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7580381c\",\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=7580381c&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=7580381c&scoped=true&lang=less&\""],"sourceRoot":""}